<ui1:BankUiFragment xmlns="https://spacestation14.io"
                   xmlns:controls="clr-namespace:Content.Client.UserInterface.Controls"
                   xmlns:ui1="clr-namespace:Content.Client._Vortex.Economy.UI">

        <ScrollContainer VerticalExpand="True" HScrollEnabled="False" HorizontalExpand="True" SetWidth="525" SetHeight="323">
            <BoxContainer Orientation="Vertical" Margin="8" VerticalExpand="True" MinSize="315 150" HorizontalExpand="True">
                <BoxContainer Orientation="Horizontal" HorizontalExpand="True" VerticalExpand="False">
            <Control HorizontalExpand="True" />
            <Button Name="RefreshButton" ToolTip="{Loc 'bank-program-ui-refresh-tooltip'}" MinWidth="30" MinHeight="30" Margin="0 0 4 0">
                <Control HorizontalExpand="True" VerticalExpand="True">
                    <TextureRect Name="RefreshIcon"
                                StyleClasses="ButtonSquare"
                                TexturePath="/Textures/Interface/VerbIcons/refresh.svg.192dpi.png"
                                Stretch="KeepAspectCentered"
                                MaxWidth="20" MaxHeight="20"/>
                </Control>
            </Button>
            </BoxContainer>
            <!-- История транзакций: поиск и выход, только в режиме истории -->
            <LineEdit Name="HistorySearchLineEdit" PlaceHolder="{Loc 'bank-program-ui-history-search-placeholder'}" Visible="False" HorizontalExpand="True" />
            <Button Name="ExitHistoryButton" Text="{Loc 'bank-program-ui-exit-history'}" Visible="False" HorizontalExpand="True" HorizontalAlignment="Center" />
            <!-- История транзакций -->
            <BoxContainer Name="HistoryScroll" Visible="False" HorizontalExpand="True">
                <BoxContainer Name="HistoryList" Orientation="Vertical" HorizontalExpand="True" />
            </BoxContainer>
            <BoxContainer Name="LinkedAccount" Orientation="Vertical" Visible="False" HorizontalExpand="True">
                <RichTextLabel Name="LinkedAccountNumberLabel" />
                <RichTextLabel Name="LinkedAccountNameLabel" />
                <RichTextLabel Name="LinkedAccountBalanceLabel" />
                <!-- Change PIN Section Toggle Button -->
                <RichTextLabel Name="ChangePinResultLabel" Visible="False" />
                <Button Name="ChangePinShowButton" Text="{Loc 'bank-program-ui-change-pin-title'}" HorizontalExpand="True" HorizontalAlignment="Center" />
                <!-- Change PIN Section (hidden by default) -->
                <PanelContainer Name="ChangePinPanel" StyleClasses="BackgroundLight" Margin="5 5 5 5" Visible="False">
                    <BoxContainer Orientation="Vertical" HorizontalExpand="True" VerticalExpand="False" Margin="5">
                        <Label Text="{Loc 'bank-program-ui-change-pin-title'}" />
                        <GridContainer Columns="2" Rows="1" HorizontalExpand="True" Margin="0 4 0 0">
                            <LineEdit Name="OldPinLineEdit" PlaceHolder="{Loc 'bank-program-ui-old-pin'}" HorizontalExpand="True" />
                            <LineEdit Name="NewPinLineEdit" PlaceHolder="{Loc 'bank-program-ui-new-pin'}" HorizontalExpand="True" />
                        </GridContainer>
                        <GridContainer Columns="2" Rows="1" HorizontalExpand="True" Margin="0 4 0 0">
                            <Button Name="SavePinButton" Text="{Loc 'bank-program-ui-save-pin'}" HorizontalExpand="True" />
                            <Button Name="ChangePinCancelButton" Text="{Loc 'bank-program-ui-link-cancel'}" HorizontalExpand="True" />
                        </GridContainer>
                    </BoxContainer>
                </PanelContainer>
                <!-- Transfer Section Toggle Button -->
                <Button Name="TransferShowButton" Text="{Loc 'bank-program-ui-transfer-title'}" HorizontalExpand="True" HorizontalAlignment="Center" />
                <!-- История транзакций: Кнопка под переводом -->
                <Button Name="HistoryButton" ToolTip="{Loc 'bank-program-ui-transaction-history'}" Text="{Loc 'bank-program-ui-transaction-history'}" HorizontalExpand="True" HorizontalAlignment="Center" />
                <!-- Transfer Section (hidden by default) -->
                <PanelContainer Name="TransferPanel" StyleClasses="BackgroundLight" Margin="5 5 5 5" Visible="False">
                    <BoxContainer Orientation="Vertical" HorizontalExpand="True" VerticalExpand="False" Margin="5">
                        <Label Text="{Loc 'bank-program-ui-transfer-title'}" />
                        <GridContainer Columns="2" Rows="2" HorizontalExpand="True" Margin="0 4 0 0">
                            <LineEdit Name="TransferAccountLineEdit" PlaceHolder="{Loc 'bank-program-ui-transfer-account'}" HorizontalExpand="True" />
                            <LineEdit Name="TransferAmountLineEdit" PlaceHolder="{Loc 'bank-program-ui-transfer-amount'}" HorizontalExpand="True" />
                            <LineEdit Name="TransferPinLineEdit" PlaceHolder="{Loc 'bank-program-ui-transfer-pin'}" HorizontalExpand="True" />
                            <LineEdit Name="TransferCommentLineEdit" PlaceHolder="{Loc 'bank-program-ui-transfer-comment'}" HorizontalExpand="True" />
                        </GridContainer>
                        <GridContainer Columns="2" Rows="1" HorizontalExpand="True" Margin="0 4 0 0">
                            <Button Name="TransferConfirmButton" Text="{Loc 'bank-program-ui-transfer-confirm'}" HorizontalExpand="True" />
                            <Button Name="TransferCancelButton" Text="{Loc 'bank-program-ui-transfer-cancel'}" HorizontalExpand="True" />
                        </GridContainer>
                    </BoxContainer>
                </PanelContainer>
            </BoxContainer>
            <RichTextLabel Name="NoLinkedAccountLabel" Visible="False" />
            <controls:StripeBack>
                <Button Name="AccountLinkButton" HorizontalExpand="True" HorizontalAlignment="Center"
                        Text="{Loc 'bank-program-ui-link-account'}" Visible="False" />
                <BoxContainer Name="AccountLink" Orientation="Vertical" Visible="False" HorizontalExpand="True"
                            Margin="0 5 0 5">
                    <RichTextLabel Name="AccountLinkMessageLabel" />
                    <GridContainer HorizontalExpand="True" Columns="2" Rows="2">
                        <LineEdit Name="AccountLineEdit" HorizontalExpand="True"
                                PlaceHolder="{Loc 'bank-program-ui-account-number'}" />
                        <Button Name="LinkConfirmButton" Text="{Loc 'bank-program-ui-link-confirm'}" />
                        <LineEdit Name="PinLineEdit" HorizontalExpand="True" PlaceHolder="PIN" />
                        <Button Name="LinkCancelButton" Text="{Loc 'bank-program-ui-link-cancel'}" />
                    </GridContainer>
                </BoxContainer>
            </controls:StripeBack>
            <RichTextLabel Name="AccountLinkResultLabel" Visible="False" />
            <Control MinSize="1 1" />
        </BoxContainer>
    </ScrollContainer>
</ui1:BankUiFragment>
